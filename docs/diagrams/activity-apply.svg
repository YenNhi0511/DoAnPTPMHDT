<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="350" viewBox="0 0 1200 350">
    <defs>
        <marker id="arrow" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="6" markerHeight="6"
            orient="auto-start-reverse">
            <path d="M 0 0 L 10 5 L 0 10 z" fill="#333" />
        </marker>
        <style>
            .box { fill:#e6f2ff; stroke:#2b6cb0; stroke-width:2; }
            .text { font-family: Arial, Helvetica, sans-serif; font-size:14px; fill:#1a202c; }
            .small { font-size:12px; }
        </style>
    </defs>

    <!-- Row of boxes left to right -->
    <rect class="box" x="20" y="40" rx="6" ry="6" width="160" height="60" />
    <text class="text" x="100" y="70" text-anchor="middle">Ứng viên</text>
    <text class="text small" x="100" y="87" text-anchor="middle">(Candidate)</text>

    <rect class="box" x="220" y="40" rx="6" ry="6" width="160" height="60" />
    <text class="text" x="300" y="70" text-anchor="middle">Frontend</text>
    <text class="text small" x="300" y="87" text-anchor="middle">POST /api/jobs/{id}/apply/</text>

    <rect class="box" x="420" y="40" rx="6" ry="6" width="160" height="60" />
    <text class="text" x="500" y="70" text-anchor="middle">Backend API</text>
    <text class="text small" x="500" y="87" text-anchor="middle">ApplicationViewSet</text>

    <rect class="box" x="620" y="40" rx="6" ry="6" width="160" height="60" />
    <text class="text" x="700" y="70" text-anchor="middle">Database</text>
    <text class="text small" x="700" y="87" text-anchor="middle">PostgreSQL</text>

    <rect class="box" x="820" y="40" rx="6" ry="6" width="160" height="60" />
    <text class="text" x="900" y="70" text-anchor="middle">Background (Worker)</text>
    <text class="text small" x="900" y="87" text-anchor="middle">Celery + Redis</text>

    <rect class="box" x="1020" y="40" rx="6" ry="6" width="160" height="60" />
    <text class="text" x="1100" y="70" text-anchor="middle">External services</text>
    <text class="text small" x="1100" y="87" text-anchor="middle">Gemini / SMTP</text>

    <!-- arrows -->
    <line x1="180" y1="70" x2="220" y2="70" stroke="#333" stroke-width="2" marker-end="url(#arrow)" />
    <line x1="380" y1="70" x2="420" y2="70" stroke="#333" stroke-width="2" marker-end="url(#arrow)" />
    <line x1="580" y1="70" x2="620" y2="70" stroke="#333" stroke-width="2" marker-end="url(#arrow)" />
    <line x1="780" y1="70" x2="820" y2="70" stroke="#333" stroke-width="2" marker-end="url(#arrow)" />
    <line x1="980" y1="70" x2="1020" y2="70" stroke="#333" stroke-width="2" marker-end="url(#arrow)" />

    <!-- highlight async flows: parse & screen -->
    <line x1="680" y1="40" x2="900" y2="115" stroke="#38a169" stroke-dasharray="8 6"
        marker-end="url(#arrow)" stroke-width="2" />
    <text class="text" x="790" y="35" text-anchor="middle" fill="#38a169">bất đồng bộ (parse_cv,
        screen_cv)</text>

    <!-- Notifications & recruiter arrow -->
    <line x1="700" y1="100" x2="900" y2="200" stroke="#e53e3e" stroke-width="2"
        marker-end="url(#arrow)" />
    <rect class="box" x="870" y="170" rx="6" ry="6" width="220" height="60" />
    <text class="text" x="980" y="200" text-anchor="middle">Recruiter Dashboard</text>

    <!-- Footer note -->
    <text class="text small" x="600" y="330" text-anchor="middle">Luồng: từ trái sang phải. Mã
        endpoint giữ nguyên bằng tiếng Anh để dễ dàng tra cứu.</text>
</svg>